<Prefab>
  <Constants>
  </Constants>
  <Parameters>
    <Parameter Name="DataSource" DefaultValue="" />
  </Parameters>
  <Window>
	<Widget DataSource="*DataSource" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" HorizontalAlignment="Center" VerticalAlignment="Center" Sprite="BlankWhiteSquare_9" Color="#000000FF" AlphaFactor="0.75">
	  <Children>
		<DimensionSyncWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="650" DimensionToSync="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center" WidgetToCopyHeightFrom="SlidersWindowInnerPanel">
		  <Children>
			<Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" ClipContents="true">
			  <Children>
				<Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" HorizontalAlignment="Center" VerticalAlignment="Top" Sprite="StdAssets\Popup\canvas" />
			  </Children>
			</Widget>
			<ListPanel Id="SlidersWindowInnerPanel" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="VerticalBottomToTop" MarginLeft="15" MarginRight="15">
			  <Children>
				<ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="VerticalBottomToTop" MarginBottom="5">
				  <Children>
					<!--Title-->
					<AutoHideRichTextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginTop="10" Brush="Popup.Title.Text" MinHeight="50" Text="@TitleText" WidgetToHideIfEmpty="..\TitleDivider" />
					<!--Divider-->
					<Widget Id="TitleDivider" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="23" Sprite="StdAssets\Popup\divider" />
				  </Children>
				</ListPanel>
				
				<!-- Max Troop Tier -->
				<ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="HorizontalLeftToRight" MarginBottom="5" MarginLeft="13">
					<Children>
						<TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Left" VerticalAlignment="Bottom" Brush="Clan.Stat.Name.Text" Text="@MaxTroopTierText">
							<Children>
								<HintWidget DataSource="{MaxTroopTierHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="false" />
							</Children>
						</TextWidget>
						<PartyAIDropdown Parameter.DataSource="{MaxTroopTierDropdown}" WidthSizePolicy="Fixed" SuggestedWidth="45" UpdateChildrenStates='true' MarginLeft="25" VerticalAlignment="Center" />
					</Children>
				</ListPanel>

				<PartyAIOptionToggle Parameter.DataSource="{AllowJoinArmiesToggle}" />
				<PartyAIOptionToggle Parameter.DataSource="{AllowDonateTroopsToggle}" />
				<PartyAIOptionToggle Parameter.DataSource="{AllowTakeTroopsFromSettlementToggle}" />
				<PartyAIOptionToggle Parameter.DataSource="{AllowSiegingToggle}" />
				<PartyAIOptionToggle Parameter.DataSource="{AllowRaidVillagesToggle}" />
				<PartyAIOptionToggle Parameter.DataSource="{AllowLordPrisonersToggle}" />
				<PartyAIOptionToggle Parameter.DataSource="{AllowRecruitmentToggle}" />
				<PartyAIOptionToggle Parameter.DataSource="{RecruitFromEnemySettlementsToggle}" />
				
				<!-- Patrol Radius -->
				<ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="HorizontalLeftToRight" MarginBottom="5" MarginLeft="13">
					<Children>
						<TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Left" VerticalAlignment="Bottom" Brush="Clan.Stat.Name.Text" Text="@PatrolRadiusText">
							<Children>
								<HintWidget DataSource="{PatrolRadiusHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="false" />
							</Children>
						</TextWidget>
						<!-- Edit Patrol Radius -->
						<ButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" VerticalAlignment="Center" MarginLeft="4" UpdateChildrenStates="true" Command.Click='EditPatrolRadius'>
						  <Children>
							<HintWidget DataSource="{ChangeHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" />
							<BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="34" SuggestedHeight="34" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="PartyAI.Menu.EditButton" />
						  </Children>
						</ButtonWidget>
					</Children>
				</ListPanel>
				
				<!-- Recruitment Percentage -->
				<ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="HorizontalLeftToRight">
					<Children>
						<!-- Recruitment Toggle -->
						<PartyAIOptionToggle Parameter.DataSource="{RecruitmentToggle}" />
					
						<!-- Percentage -->
						<TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Brush="Clan.Stat.Name.Text" VerticalAlignment="Center" Brush.TextHorizontalAlignment="Right" Text="@RecruitmentPercentageText" />
						
						<!-- Edit Recruitment Percentage -->
						<ButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" VerticalAlignment="Center" MarginLeft="4" UpdateChildrenStates="true" Command.Click='EditRecruitmentPercentage'>
						  <Children>
							<HintWidget DataSource="{ChangeHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" />
							<BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="34" SuggestedHeight="34" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="PartyAI.Menu.EditButton" />
						  </Children>
						</ButtonWidget>
						
						<!-- Post-text -->
						<TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Brush="Clan.Stat.Name.Text" VerticalAlignment="Center" Brush.TextHorizontalAlignment="Right" Text="@RecruitmentPostText" />
					</Children>
				</ListPanel>
				
				<!-- Dismiss Unwanted Troops -->
				<ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="HorizontalLeftToRight">
					<Children>
						<!-- Dismiss Unwanted Troops Toggle -->
						<PartyAIOptionToggle Parameter.DataSource="{DismissUnwantedTroopsToggle}" />
					
						<!-- Percentage -->
						<TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Brush="Clan.Stat.Name.Text" VerticalAlignment="Center" Brush.TextHorizontalAlignment="Right" Text="@DismissUnwantedTroopsPercentageText" />
						
						<!-- Edit Dismiss Unwanted Troops Percentage -->
						<ButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" VerticalAlignment="Center" MarginLeft="4" UpdateChildrenStates="true" Command.Click='EditDismissUnwantedTroopsPercentage'>
						  <Children>
							<HintWidget DataSource="{ChangeHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" />
							<BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="34" SuggestedHeight="34" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="PartyAI.Menu.EditButton" />
						  </Children>
						</ButtonWidget>
						
						<!-- Post-text -->
						<TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Brush="Clan.Stat.Name.Text" VerticalAlignment="Center" Brush.TextHorizontalAlignment="Right" Text="@RecruitmentPostText" />
					</Children>
				</ListPanel>
				
				<!-- Buy Horses -->
				<ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="HorizontalLeftToRight">
					<Children>
						<!-- Buy Horses Toggle -->
						<PartyAIOptionToggle Parameter.DataSource="{BuyHorsesToggle}" />
					
						<!-- Buy Horses Budget -->
						<TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Brush="Clan.Stat.Name.Text" VerticalAlignment="Center" MarginTop="2" Brush.TextHorizontalAlignment="Right" Text="@BuyHorsesBudgetText">
							<Children>
								<HintWidget DataSource="{BuyHorsesBudgetHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="false" />
							</Children>
						</TextWidget>
						
						<!-- Gold Sprite -->
						<Widget Sprite="General\Icons\Coin@2x" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" VerticalAlignment="Center" SuggestedWidth="30" SuggestedHeight="30" />
						
						<!-- Buy Horses Budget Amount -->
						<TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginLeft="-3" MarginTop="2" Brush="Clan.Stat.Name.Text" VerticalAlignment="Center" Brush.TextHorizontalAlignment="Left" Text="@BuyHorsesBudgetAmount">
							<Children>
								<HintWidget DataSource="{BuyHorsesBudgetHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="false" />
							</Children>
						</TextWidget>
						
						<!-- Edit Buy Horses Budget -->
						<ButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" VerticalAlignment="Center" MarginLeft="8" UpdateChildrenStates="true" Command.Click='EditBuyHorsesBudget'>
						  <Children>
							<HintWidget DataSource="{ChangeHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" />
							<BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="34" SuggestedHeight="34" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="PartyAI.Menu.EditButton" />
						  </Children>
						</ButtonWidget>
					</Children>
				</ListPanel>
				
				<!-- Fallback Order -->
				<ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" StackLayout.LayoutMethod="HorizontalLeftToRight" MarginTop="5" MarginLeft="13">
					<Children>
						<TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Left" VerticalAlignment="Bottom" Brush="Clan.Stat.Name.Text" Text="@FallbackOrderLabel">
							<Children>
								<HintWidget DataSource="{FallbackOrderHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="false" />
							</Children>
						</TextWidget>
						<TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" MarginRight="20" HorizontalAlignment="Left" VerticalAlignment="Bottom" Brush="Clan.Stat.Name.Text" Brush.TextHorizontalAlignment="Right" Text="@FallbackOrder">
							<Children>
								<HintWidget DataSource="{FallbackOrderHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" IsDisabled="false" />
							</Children>
						</TextWidget>
						
						<!-- Edit Fallback Order -->
						<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="34" SuggestedHeight="34" MarginLeft="-10" >
							<Children>
								<ButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" UpdateChildrenStates="true" Command.Click='ChangeFallbackOrder'>
								  <Children>
									<HintWidget DataSource="{ChangeHint}" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" />
									<BrushWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="34" SuggestedHeight="34" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="PartyAI.Menu.EditButton" />
								  </Children>
								</ButtonWidget>
							</Children>
						</Widget>
					</Children>
				</ListPanel>

				<ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" MarginTop="20" StackLayout.LayoutMethod="HorizontalLeftToRight">
				  <Children>
					<ToggleButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="251" SuggestedHeight="64" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="Popup.Cancel.Button" Command.Click="CancelEditPartyOptions" GamepadNavigationIndex="0">
					  <Children>
						<TextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Popup.Button.Text" Text="@CancelText" MarginLeft="40" MarginRight="40"/>
					  </Children>
					</ToggleButtonWidget>
					<ToggleButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="251" SuggestedHeight="64" HorizontalAlignment="Right" VerticalAlignment="Center" Brush="Popup.Done.Button" Command.Click="AcceptEditPartyOptions" GamepadNavigationIndex="1">
					  <Children>
						<TextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Popup.Button.Text" Text="@AcceptText" MarginLeft="40" MarginRight="40"/>
					  </Children>
					</ToggleButtonWidget>
				  </Children>
				</ListPanel>
			  </Children>
			</ListPanel>
			<!--Frame Border-->
			<BrushWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Popup.Frame" IsEnabled="false" />

		  </Children>
		</DimensionSyncWidget>
	  </Children>
	</Widget>
  </Window>
</Prefab>
